<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>
      /* Style for the popup alert */
      .popup-alert {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 1050;
        width: auto;
        max-width: 500px;
        transition: opacity 2s ease, top 2s ease;
        opacity: 1;
      }

      /* Style for fade-out animation */
      .fade-out {
        opacity: 0;
        top: 0px; /* Moves the alert upwards when it fades out */
      }
    </style>
  </head>
  <body>
    <% if(success && success.length>0){ %>
    <div id="success-alert" class="alert alert-success alert-dismissible fade show popup-alert" role="alert">
        <%= success %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <% } %>
    <% if(error && error.length>0){ %>
    <div id="error-alert" class="alert alert-danger alert-dismissible fade show popup-alert" role="alert">
        <%= error %>
        <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
    </div>
    <% } %>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    
    <!-- Script to auto-dismiss alerts after 5 seconds with fade-out effect -->
    <script>
      window.onload = function() {
        setTimeout(function() {
          let successAlert = document.getElementById('success-alert');
          let errorAlert = document.getElementById('error-alert');
          
          if (successAlert) {
            successAlert.classList.add('fade-out'); // Trigger fade out for success
          }
          
          if (errorAlert) {
            errorAlert.classList.add('fade-out'); // Trigger fade out for error
          }
          
          // Remove the alert from the DOM after the fade-out animation completes (0.5s)
          setTimeout(function() {
            if (successAlert) {
              successAlert.remove();
            }
            if (errorAlert) {
              errorAlert.remove();
            }
          }, 2000); // Wait for the fade-out effect to finish (500ms)
        }, 5000); // 5000 ms = 5 seconds before fade-out starts
      };
    </script>
  </body>
</html>
